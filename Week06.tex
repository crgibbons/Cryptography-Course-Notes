
\begin{chapquote}{Someone said this}
``This was said.''
\end{chapquote}

\section{Cracking the Enigma}

\begin{example}

Suppose that each of following encodes a three letter string twice:

\begin{enumerate}
\item BAGTFC
\item LWCBAX
\item EFRLWI
\item TAUEFR
\end{enumerate}{}

What patterns can we see?
\begin{itemize}
\item (AFW)
\item (BTEL)
\end{itemize}{}


\end{example}


With daily keys and math, we can figure out the wiring of the machine.

\begin{definition} The \defi{conjugate} of a permutation $r$ is $\rho^{-1} r \rho$.
\end{definition}

%we introduced conjugation in the context of a rubik's cube. You said you would do these drawings, right prof. Gibbons? 

In the context of the Enigma machine, the reflector interchanges pairs of letters and no letter maps to itself due to the reflector. We can think of each case of swapping pairs of letters as a 2-cycle permutation and the reflector, $F$ as the product of 13 2-cycle permutations. \\

The complete cycle structure from the daily message keys from above is: (AFW)(BTEL)(CXURIPHQ)(DJ)(KO)(MSNVZY). \\
\\We can break down the cycle structure as follows:

\begin{table}[h]
\begin{tabular}{lll}
 2  2-cycles (DJ),(KO)  \\
 1  3-cycles (AFW) \\
 1  4-cycle (BTEL) \\
 1  6-cycle (MSNVZY) \\
 1  8-cycle (CXURIPHQ)
\end{tabular}
\end{table}

\begin{theorem}Conjugate permutations have the same cycle structure. \end{theorem}

\begin{proof} The following is an outline of the proof of Rejewski's Theorem. Let $\sigma$ be a permutation. Then we can write $\sigma$ as a product of disjoint cycles so $\sigma = \sigma_1\sigma_2\dots\sigma_k$. Then $\rho^{-1} \sigma \rho = \rho^{-1} \sigma_1 \rho \rho^{-1} \sigma_2 \rho \dots \rho^{-1} \sigma_k \rho$. Therefore we can reduce to the case where $\sigma$ is a single cycle permutation. Consider the permutation (01) and let $\rho$ be any perutation. We will see what happens when we conjugate (01) by $\rho$, i.e. consider $\rho^{-1}$(01)$\rho$. \begin{enumerate}
\item If $\rho(c) \neq \{0,1\}$ then $\rho^{-1}$(01)$\rho(c) = \rho^{-1}\rho(c) = c$
\item If $\rho(c) = 0$ and $\rho(d) = 1$ then $\rho^{-1}$(01)$\rho(c) = \rho^{-1}$(01)(0)$ = \rho^{-1}(1) = d$.
%\item If $\rho^{-1} does anyone have the third case?
\end{enumerate}
\end{proof}


\begin{example} Suppose $r$ = (01)(234) and $\rho$ = (01234). Then $\rho^{-1} r \rho$ = (04)(234). Note that $r$ and $\rho^{-1} r \rho$ are conjugate permutations and have 1 2-cycle and 1 3-cycle, thus illustrating Rejewski's Theorem.


\section{Marian Rejewski's contribution to the breaking of Enigma}

From the message keys we can identify the cycle structure of the Enigma settings. Rejewski created a database (called the cyclometer) of all possible cycle structures and associated keys for the Enigma machine with 3 rotors. This database took over a year to construct but significantly reduced the candidate keys that needed to be checked. This was effective until the Germans rebuilt enigma.

\section{Why Not Use Daily Keys for all Messages?}
Message keys are more secure because each key would be used for a small number of messages (ideally one), so finding one key does not immediately compromise all of the encoded messages sent on that day.

\section{Weaknesses in the use of Enigma}
\begin{definition}
\defi{Cillies} are message keys that use predictable strings such as one's initials, etc.
\end{definition}

The Germans tried to enforce randomness through:
\begin{enumerate}
\item Not allowing letters on the plugboard to plug into their neighbors.
\item Not allowing letters to encrypt to themselves
\item Preventing rotors from being in the same position two days in a row.
\end{enumerate}

\begin{definition}
\defi{Cribs} are guessed plaintext that allow us to build a permutation to determine the daily enigma settings  
\end{definition}
Bombes used crib to check the rotor positions and settings for the correct cycle structure.
%begin week 2 here


\section{Congruence}

\begin{definition} Let $a, b \in Z$ and $m \in Z>0$. We say that a is \textbf{congruent} to b modulo m provided that $a - b$ is divisible by m, written as $a \equiv b \mod{m}$.



%\begin{definition} Let $a,b \in \mathbb{Z}$ and let $m \in \mathbb{Z}_{>0}$. We say that $a$ is \defi{congruent} to $b \mod{m}$ provided $a-b$ ia %divisible by $m$. \end{definition}

\begin{proposition} Here's a prop.\end{proposition}

\begin{example} Here's an example. \end{example}

\begin{corollary}\label{cor:ExampleCorx} And a corollary.  This one is labeled so you can refer to it later.\end{corollary}

You can refer to Corollary~\ref{cor:ExampleCorx} like this.

\section{Here's the second section}
You can look at Week 1 for tips.  One useful one is long division:

\[
\longdiv{05728}{26}
\]

\section{Tips from other notetakers}

Use an imac for huge screen real estate!